{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/sadiqsoomro/Documents/ijaz/aimfit_frontend_upload/src/views/Login/login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport services from \"services\";\nimport useForm from \"hooks/useForm\";\nimport { changeLoggedInFlag, setCurrentUser } from \"redux/actions/authActions\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { useToast } from \"components/Toast\";\nimport ButtonLoader from \"components/ButtonLoader\";\nimport \"./login.css\";\nexport default function Login() {\n  _s();\n\n  const toast = useToast();\n  const [initialValues, setInitialValues] = useState({\n    userName: \"\",\n    password: \"\"\n  });\n  const {\n    values,\n    errors,\n    handleChange,\n    handleSubmit\n  } = useForm(initialValues, login);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [isLoading, setIsLoading] = useState(false);\n\n  function login() {\n    setIsLoading(true);\n    let obj = {\n      username: values.userName,\n      password: values.password,\n      role: [1]\n    };\n    services.AuthService.loginUser(obj).then(async response => {\n      let userObj = {\n        token: response.response.token,\n        user: response.response.user\n      };\n      window.localStorage.setItem(\"aimfit-user\", JSON.stringify(userObj));\n      dispatch(setCurrentUser(userObj));\n      dispatch(changeLoggedInFlag(true));\n      setIsLoading(false);\n      toast.add(\"tr\", \"success\", \"Logged In Successfully\");\n      history.push(\"/admin/members\");\n    }).catch(err => {\n      var _err$response, _err$response$data;\n\n      setIsLoading(false);\n      toast.add(\"tr\", \"danger\", err.message || (err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.code) || \"Something went wrong\");\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"limiter\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-login100\",\n        style: {\n          backgroundImage: \"url('bg.jpg')\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"wrap-login100\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            noValidate: true,\n            className: \"login100-form validate-form\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"login100-form-logo\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"LOGO.png\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"login100-form-title p-b-34 p-t-27\",\n              children: \"Log in\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"\",\n              className: `wrap-input100 validate-input ${errors.password && \"mb-5\"}`,\n              \"data-validate\": \"Enter username\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                className: `input input100 ${errors.password && \"is-danger\"}`,\n                type: \"text\",\n                name: \"userName\",\n                placeholder: \"Username\",\n                onChange: handleChange,\n                noValidate: true,\n                autoComplete: \"off\",\n                value: values.userName || \"\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"focus-input100\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 17\n              }, this), errors.userName && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"error help is-danger\",\n                children: errors.userName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"wrap-input100 validate-input\",\n              \"data-validate\": \"Enter password\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                className: `input input100 ${errors.password && \"is-danger\"}`,\n                type: \"password\",\n                name: \"password\",\n                placeholder: \"Password\",\n                onChange: handleChange,\n                value: values.password || \"\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"focus-input100 focus-input200\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 17\n              }, this), errors.password && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"error help is-danger\",\n                children: errors.password\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"container-login100-form-btn\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"login100-form-btn\",\n                children: !isLoading ? \"Login\" : /*#__PURE__*/_jsxDEV(ButtonLoader, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 43\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"dropDownSelect1\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"X1ZseKXlaIbav1oSvcMjXKq5Y78=\", false, function () {\n  return [useToast, useForm, useDispatch, useHistory];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/sadiqsoomro/Documents/ijaz/aimfit_frontend_upload/src/views/Login/login.js"],"names":["React","useState","useEffect","services","useForm","changeLoggedInFlag","setCurrentUser","useSelector","useDispatch","useHistory","useLocation","useToast","ButtonLoader","Login","toast","initialValues","setInitialValues","userName","password","values","errors","handleChange","handleSubmit","login","dispatch","history","isLoading","setIsLoading","obj","username","role","AuthService","loginUser","then","response","userObj","token","user","window","localStorage","setItem","JSON","stringify","add","push","catch","err","message","data","code","backgroundImage"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nimport services from \"services\";\nimport useForm from \"hooks/useForm\";\nimport { changeLoggedInFlag, setCurrentUser } from \"redux/actions/authActions\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { useToast } from \"components/Toast\";\nimport ButtonLoader from \"components/ButtonLoader\";\nimport \"./login.css\";\nexport default function Login() {\n  const toast = useToast();\n  const [initialValues, setInitialValues] = useState({\n    userName: \"\",\n    password: \"\",\n  });\n  const { values, errors, handleChange, handleSubmit } = useForm(\n    initialValues,\n    login\n  );\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [isLoading, setIsLoading] = useState(false);\n\n  function login() {\n    setIsLoading(true);\n    let obj = {\n      username: values.userName,\n      password: values.password,\n      role: [1],\n    };\n\n    services.AuthService.loginUser(obj)\n      .then(async (response) => {\n        let userObj = {\n          token: response.response.token,\n          user: response.response.user,\n        };\n\n        window.localStorage.setItem(\"aimfit-user\", JSON.stringify(userObj));\n\n        dispatch(setCurrentUser(userObj));\n        dispatch(changeLoggedInFlag(true));\n        setIsLoading(false);\n        toast.add(\"tr\", \"success\", \"Logged In Successfully\");\n        history.push(\"/admin/members\");\n      })\n      .catch((err) => {\n        setIsLoading(false);\n        toast.add(\n          \"tr\",\n          \"danger\",\n          err.message || err?.response?.data?.code || \"Something went wrong\"\n        );\n      });\n  }\n\n  return (\n    <div>\n      <div className=\"limiter\">\n        <div\n          className=\"container-login100\"\n          style={{ backgroundImage: \"url('bg.jpg')\" }}\n        >\n          <div className=\"wrap-login100\">\n            <form\n              onSubmit={handleSubmit}\n              noValidate\n              className=\"login100-form validate-form\"\n            >\n              <span className=\"login100-form-logo\">\n                <img src=\"LOGO.png\" />\n              </span>\n\n              <span className=\"login100-form-title p-b-34 p-t-27\">Log in</span>\n              <div\n                className=\"\"\n                className={`wrap-input100 validate-input ${\n                  errors.password && \"mb-5\"\n                }`}\n                data-validate=\"Enter username\"\n              >\n                <input\n                  className={`input input100 ${errors.password && \"is-danger\"}`}\n                  type=\"text\"\n                  name=\"userName\"\n                  placeholder=\"Username\"\n                  onChange={handleChange}\n                  noValidate\n                  autoComplete=\"off\"\n                  value={values.userName || \"\"}\n                  required\n                />\n                <span className=\"focus-input100\"></span>\n\n                {errors.userName && (\n                  <span className=\"error help is-danger\">\n                    {errors.userName}\n                  </span>\n                )}\n              </div>\n              <div\n                className=\"wrap-input100 validate-input\"\n                data-validate=\"Enter password\"\n              >\n                <input\n                  className={`input input100 ${errors.password && \"is-danger\"}`}\n                  type=\"password\"\n                  name=\"password\"\n                  placeholder=\"Password\"\n                  onChange={handleChange}\n                  value={values.password || \"\"}\n                  required\n                />\n                <span className=\"focus-input100 focus-input200\"></span>\n                {errors.password && (\n                  <span className=\"error help is-danger\">\n                    {errors.password}\n                  </span>\n                )}\n              </div>\n              <div className=\"container-login100-form-btn\">\n                <button type=\"submit\" className=\"login100-form-btn\">\n                  {!isLoading ? \"Login\" : <ButtonLoader />}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n      <div id=\"dropDownSelect1\"></div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}