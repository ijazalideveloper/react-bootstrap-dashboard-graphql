{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/sadiqsoomro/Documents/ijaz/aimfit_frontend_upload/src/views/UserTags/createOrEdit.js\",\n    _s = $RefreshSig$();\n\nimport Loader from \"components/Loader\";\nimport { useToast } from \"components/Toast\";\nimport { ErrorMessage, Field, Form, Formik } from \"formik\";\nimport React, { useEffect, useState } from \"react\";\nimport { Card, Col, Container, Row, Table } from \"react-bootstrap\";\nimport Pagination from \"react-bootstrap-4-pagination\";\nimport { Link } from \"react-router-dom\";\nimport services from \"services\";\nimport { handleSubmitAdd, handleSubmitEdit } from \"./tagsUtils\";\n\nconst AddOrEditUserTag = props => {\n  _s();\n\n  let memberActionButtonStyle = {\n    display: \"inline-block\"\n  };\n  const toast = useToast();\n  const [isLoading, setIsLoading] = useState(true);\n  const [isEditing, setIsEditing] = useState(false);\n  const [initialValues, setInitialValues] = useState({});\n  const [paginationConfig, setPaginationConfig] = useState({});\n  const [members, setMembers] = useState([]);\n\n  const handleValidations = values => {\n    const errors = {};\n\n    if (!values.name && !values.deletedAt) {\n      errors.name = \"* This field is required\";\n    }\n\n    return errors;\n  };\n\n  const handleSubmit = values => {\n    isEditing ? (handleSubmitEdit(values, goBack), setIsEditing(false), toast.add(\"tr\", \"primary\", \"User Tag Updated\")) : handleSubmitAdd(values, goBack);\n  }; // const handleDelete = values => {\n  // handleDelAddEdit(values);\n  // goBack();\n  // };\n\n\n  const getData = async (page = 1, limit = 10) => {\n    try {\n      var _props$match, _props$match$params;\n\n      if (page === 0 || page == false) {\n        return;\n      }\n\n      let id = props === null || props === void 0 ? void 0 : (_props$match = props.match) === null || _props$match === void 0 ? void 0 : (_props$match$params = _props$match.params) === null || _props$match$params === void 0 ? void 0 : _props$match$params.id;\n\n      if (id) {\n        var _services$UserTagsSer, _data, _data2, _data2$members, _data3, _data3$members;\n\n        let data = await (services === null || services === void 0 ? void 0 : (_services$UserTagsSer = services.UserTagsService) === null || _services$UserTagsSer === void 0 ? void 0 : _services$UserTagsSer.getUserTagById(id, true, page, limit));\n        data = (_data = data) === null || _data === void 0 ? void 0 : _data.response;\n\n        if (!data) {\n          throw Error(\"Tags not found\");\n        }\n\n        let pagination = (_data2 = data) === null || _data2 === void 0 ? void 0 : (_data2$members = _data2.members) === null || _data2$members === void 0 ? void 0 : _data2$members.pagination;\n\n        if (pagination) {\n          let paginationConfig = {\n            totalPages: pagination === null || pagination === void 0 ? void 0 : pagination.totalPages,\n            currentPage: pagination === null || pagination === void 0 ? void 0 : pagination.page,\n            showMax: (pagination === null || pagination === void 0 ? void 0 : pagination.page) == (pagination === null || pagination === void 0 ? void 0 : pagination.totalPages) ? 1 : 10,\n            threeDots: true,\n            prevNext: true,\n            disabledClass: \"pagination-disabled-item\",\n            activeBorderColor: \"#78c043\",\n            activeBgColor: \"#78c043\",\n            color: \"#3e5569\",\n            onClick: function (pageNumber) {\n              if (pageNumber > (pagination === null || pagination === void 0 ? void 0 : pagination.totalPages)) return;\n              getData(pageNumber);\n            }\n          };\n          setPaginationConfig(paginationConfig);\n        }\n\n        setInitialValues(data);\n        setMembers((_data3 = data) === null || _data3 === void 0 ? void 0 : (_data3$members = _data3.members) === null || _data3$members === void 0 ? void 0 : _data3$members.items);\n        if (data) setIsEditing(true);\n      } // setIsEditing(id);\n\n    } catch (err) {\n      var _err$response, _err$response$data;\n\n      console.log(err);\n      toast.add(\"tr\", \"danger\", (err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.code) + \"Something went wrong\");\n      goBack();\n    }\n\n    setIsLoading(false);\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const goBack = () => props.history.push(\"/admin/usertag\");\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: initialValues,\n      validate: handleValidations,\n      onSubmit: handleSubmit,\n      children: ({\n        isSubmitting,\n        values,\n        setFieldValue\n      }) => /*#__PURE__*/_jsxDEV(Form, {\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-sm-4\",\n                children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                  children: [isEditing ? \"Edit\" : \"Create\", \" User Tag\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-auto\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-light mr-2  \",\n              type: \"button\",\n              onClick: () => goBack(),\n              children: \"Back\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-success mr-2  btn-fill\",\n              type: \"submit\",\n              onClick: () => {// handleSubmit(values);\n              },\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-sm-6 form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"\",\n                  children: \"Title *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Field, {\n                  name: \"name\",\n                  className: \"form-control\",\n                  type: \"text\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                  name: \"title\",\n                  component: \"small\",\n                  className: \"text-danger\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-sm-6 form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"\",\n                  children: \" Description\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Field, {\n                  name: \"description\",\n                  className: \"form-control\",\n                  type: \"text\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      fluid: true,\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Members\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: \"12\",\n          children: (members === null || members === void 0 ? void 0 : members.length) ? /*#__PURE__*/_jsxDEV(Card, {\n            className: \"strpied-tabled-with-hover\",\n            children: /*#__PURE__*/_jsxDEV(Table, {\n              className: \"table-hover\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"border-0\",\n                    children: \"ID\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"border-0\",\n                    children: \"Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 199,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"border-0\",\n                    children: \"Phone\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 200,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"border-0\",\n                    children: \"Go\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: members === null || members === void 0 ? void 0 : members.map((item, key) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: item.id\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: item.fullName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: item.phone\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 209,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      to: `/admin/member/${item.id}/edit`,\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        style: memberActionButtonStyle,\n                        className: \"fa fa-user\",\n                        color: \"primary\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 212,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 211,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 210,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No Member Found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), isEditing && (paginationConfig === null || paginationConfig === void 0 ? void 0 : paginationConfig.totalPages) != 0 && /*#__PURE__*/_jsxDEV(Pagination, { ...paginationConfig\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AddOrEditUserTag, \"AQAJ7RfjUM8fotER/eA/HGTsSG0=\", false, function () {\n  return [useToast];\n});\n\n_c = AddOrEditUserTag;\nexport default AddOrEditUserTag;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddOrEditUserTag\");","map":{"version":3,"sources":["/Users/sadiqsoomro/Documents/ijaz/aimfit_frontend_upload/src/views/UserTags/createOrEdit.js"],"names":["Loader","useToast","ErrorMessage","Field","Form","Formik","React","useEffect","useState","Card","Col","Container","Row","Table","Pagination","Link","services","handleSubmitAdd","handleSubmitEdit","AddOrEditUserTag","props","memberActionButtonStyle","display","toast","isLoading","setIsLoading","isEditing","setIsEditing","initialValues","setInitialValues","paginationConfig","setPaginationConfig","members","setMembers","handleValidations","values","errors","name","deletedAt","handleSubmit","goBack","add","getData","page","limit","id","match","params","data","UserTagsService","getUserTagById","response","Error","pagination","totalPages","currentPage","showMax","threeDots","prevNext","disabledClass","activeBorderColor","activeBgColor","color","onClick","pageNumber","items","err","console","log","code","history","push","isSubmitting","setFieldValue","length","map","item","key","fullName","phone"],"mappings":"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","sourcesContent":["import Loader from \"components/Loader\";\nimport { useToast } from \"components/Toast\";\nimport { ErrorMessage, Field, Form, Formik } from \"formik\";\nimport React, { useEffect, useState } from \"react\";\nimport { Card, Col, Container, Row, Table } from \"react-bootstrap\";\nimport Pagination from \"react-bootstrap-4-pagination\";\nimport { Link } from \"react-router-dom\";\nimport services from \"services\";\nimport { handleSubmitAdd, handleSubmitEdit } from \"./tagsUtils\";\n\nconst AddOrEditUserTag = (props) => {\n  let memberActionButtonStyle = { display: \"inline-block\" };\n\n  const toast = useToast();\n  const [isLoading, setIsLoading] = useState(true);\n  const [isEditing, setIsEditing] = useState(false);\n  const [initialValues, setInitialValues] = useState({});\n  const [paginationConfig, setPaginationConfig] = useState({});\n  const [members, setMembers] = useState([]);\n\n  const handleValidations = (values) => {\n    const errors = {};\n    if (!values.name && !values.deletedAt) {\n      errors.name = \"* This field is required\";\n    }\n    return errors;\n  };\n\n  const handleSubmit = (values) => {\n    isEditing\n      ? (handleSubmitEdit(values, goBack),\n        setIsEditing(false),\n        toast.add(\"tr\", \"primary\", \"User Tag Updated\"))\n      : handleSubmitAdd(values, goBack);\n  };\n\n  // const handleDelete = values => {\n  // handleDelAddEdit(values);\n  // goBack();\n  // };\n\n  const getData = async (page = 1, limit = 10) => {\n    try {\n      if (page === 0 || page == false) {\n        return;\n      }\n      let id = props?.match?.params?.id;\n      if (id) {\n        let data = await services?.UserTagsService?.getUserTagById(\n          id,\n          true,\n          page,\n          limit\n        );\n        data = data?.response;\n        if (!data) {\n          throw Error(\"Tags not found\");\n        }\n        let pagination = data?.members?.pagination;\n        if (pagination) {\n          let paginationConfig = {\n            totalPages: pagination?.totalPages,\n            currentPage: pagination?.page,\n            showMax: pagination?.page == pagination?.totalPages ? 1 : 10,\n            threeDots: true,\n            prevNext: true,\n            disabledClass: \"pagination-disabled-item\",\n            activeBorderColor: \"#78c043\",\n            activeBgColor: \"#78c043\",\n            color: \"#3e5569\",\n            onClick: function (pageNumber) {\n              if (pageNumber > pagination?.totalPages) return;\n              getData(pageNumber);\n            },\n          };\n          setPaginationConfig(paginationConfig);\n        }\n        setInitialValues(data);\n        setMembers(data?.members?.items);\n        if (data) setIsEditing(true);\n      }\n      // setIsEditing(id);\n    } catch (err) {\n      console.log(err);\n      toast.add(\n        \"tr\",\n        \"danger\",\n        err?.response?.data?.code + \"Something went wrong\"\n      );\n      goBack();\n    }\n    setIsLoading(false);\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n  const goBack = () => props.history.push(\"/admin/usertag\");\n  if (isLoading) {\n    return <Loader />;\n  }\n\n  return (\n    <div>\n      <Formik\n        initialValues={initialValues}\n        validate={handleValidations}\n        onSubmit={handleSubmit}\n      >\n        {({ isSubmitting, values, setFieldValue }) => (\n          <Form>\n            <Row>\n              <div className=\"col\">\n                <div className=\"row\">\n                  <div className=\"col-sm-4\">\n                    <h2>{isEditing ? \"Edit\" : \"Create\"} User Tag</h2>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"col-auto\">\n                <button\n                  className=\"btn btn-light mr-2  \"\n                  type=\"button\"\n                  onClick={() => goBack()}\n                >\n                  Back\n                </button>\n                {/* {isEditing && (\n                  <button\n                    className=\"btn btn-secondary mr-2  btn-fill \"\n                    type=\"submit\"\n                    disabled={disable}\n                    onClick={() => {\n                        confirm(\"Are You Sure to delete this ??\") && handleDelete(values)\n                      // setFieldValue(\n                      //   \"deletedAt\",\n                      //   new Date(moment().format(\"YYYY-M-DD HH:mm:ss\"))\n                      // );\n                    }}\n                  >\n                    Delete\n                  </button>\n                )} */}\n                <button\n                  className=\"btn btn-success mr-2  btn-fill\"\n                  type=\"submit\"\n                  onClick={() => {\n                    // handleSubmit(values);\n                  }}\n                >\n                  Save\n                </button>\n              </div>\n            </Row>\n\n            <Card>\n              <Card.Body>\n                <Row>\n                  <div className=\"col-sm-6 form-group\">\n                    <label htmlFor=\"\">Title *</label>\n                    <Field name=\"name\" className=\"form-control\" type=\"text\" />\n                    <ErrorMessage\n                      name=\"title\"\n                      component=\"small\"\n                      className=\"text-danger\"\n                    />\n                  </div>\n\n                  <div className=\"col-sm-6 form-group\">\n                    <label htmlFor=\"\"> Description</label>\n                    <Field\n                      name=\"description\"\n                      className=\"form-control\"\n                      type=\"text\"\n                    />\n                  </div>\n                </Row>\n              </Card.Body>\n            </Card>\n          </Form>\n        )}\n      </Formik>\n\n      <Container fluid>\n        <Row>\n          <div className=\"col\">\n            <h2>Members</h2>\n          </div>\n        </Row>\n        <Row>\n          <Col md=\"12\">\n            {members?.length ? (\n              <Card className=\"strpied-tabled-with-hover\">\n                <Table className=\"table-hover\">\n                  <thead>\n                    <tr>\n                      <th className=\"border-0\">ID</th>\n                      <th className=\"border-0\">Name</th>\n                      <th className=\"border-0\">Phone</th>\n                      <th className=\"border-0\">Go</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {members?.map((item, key) => (\n                      <tr>\n                        <td>{item.id}</td>\n                        <td>{item.fullName}</td>\n                        <td>{item.phone}</td>\n                        <td>\n                          <Link to={`/admin/member/${item.id}/edit`}>\n                            <i\n                              style={memberActionButtonStyle}\n                              className=\"fa fa-user\"\n                              color=\"primary\"\n                            ></i>\n                          </Link>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </Table>\n              </Card>\n            ) : (\n              <p>No Member Found</p>\n            )}\n          </Col>\n        </Row>\n        {isEditing && paginationConfig?.totalPages != 0 && (\n          <Pagination {...paginationConfig} />\n        )}\n      </Container>\n    </div>\n  );\n};\n\nexport default AddOrEditUserTag;\n"]},"metadata":{},"sourceType":"module"}