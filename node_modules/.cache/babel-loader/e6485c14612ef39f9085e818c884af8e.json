{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/sadiqsoomro/Documents/ijaz/aimfit_frontend_upload/src/views/Foods/FoodCats.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport services from \"services\";\nimport { useToast } from \"components/Toast\";\n\nconst FoodCats = props => {\n  _s();\n\n  const toast = useToast();\n  const {\n    foodId,\n    cats,\n    setFieldValue\n  } = props;\n\n  const handleDelete = index => {\n    try {\n      const splicedSteps = cats.filter((item, i) => i !== index);\n      let delFood = {\n        category: cats[index].id,\n        foods: [foodId],\n        action: \"remove\"\n      };\n      cats.length < 2 ? toast.add(\"tr\", \"danger\", \"Atleast One Category Is Required\") : services.FoodCategoriesService.addRemoveFoods(delFood);\n      setFieldValue(\"foodCategories\", splicedSteps);\n    } catch (err) {\n      var _err$response, _err$response$data;\n\n      toast.add(\"tr\", \"danger\", err.message || (err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.code) || \"Something went wrong\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: cats === null || cats === void 0 ? void 0 : cats.map((step, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recipe-tag-item mt-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"step\",\n        children: [\" \", step.title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        type: \"span\",\n        className: \"button\",\n        onClick: () => handleDelete(i),\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 11\n      }, this)]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }, this))\n  }, void 0, false);\n};\n\n_s(FoodCats, \"WUU7e0p6AiTpvVrXhi50JBdcu+0=\", false, function () {\n  return [useToast];\n});\n\n_c = FoodCats;\nexport default FoodCats;\n\nvar _c;\n\n$RefreshReg$(_c, \"FoodCats\");","map":{"version":3,"sources":["/Users/sadiqsoomro/Documents/ijaz/aimfit_frontend_upload/src/views/Foods/FoodCats.js"],"names":["React","useState","useEffect","services","useToast","FoodCats","props","toast","foodId","cats","setFieldValue","handleDelete","index","splicedSteps","filter","item","i","delFood","category","id","foods","action","length","add","FoodCategoriesService","addRemoveFoods","err","message","response","data","code","map","step","title"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,QAAP,MAAqB,UAArB;AACA,SAASC,QAAT,QAAyB,kBAAzB;;AAEA,MAAMC,QAAQ,GAAGC,KAAK,IAAI;AAAA;;AACxB,QAAMC,KAAK,GAAGH,QAAQ,EAAtB;AACA,QAAM;AAAEI,IAAAA,MAAF;AAAUC,IAAAA,IAAV;AAAgBC,IAAAA;AAAhB,MAAkCJ,KAAxC;;AACA,QAAMK,YAAY,GAAGC,KAAK,IAAI;AAC5B,QAAI;AACF,YAAMC,YAAY,GAAGJ,IAAI,CAACK,MAAL,CAAY,CAACC,IAAD,EAAOC,CAAP,KAAaA,CAAC,KAAKJ,KAA/B,CAArB;AACF,UAAIK,OAAO,GAAG;AACZC,QAAAA,QAAQ,EAAET,IAAI,CAACG,KAAD,CAAJ,CAAYO,EADV;AAEZC,QAAAA,KAAK,EAAE,CAACZ,MAAD,CAFK;AAGZa,QAAAA,MAAM,EAAE;AAHI,OAAd;AAKAZ,MAAAA,IAAI,CAACa,MAAL,GAAc,CAAd,GACIf,KAAK,CAACgB,GAAN,CAAU,IAAV,EAAgB,QAAhB,EAA0B,kCAA1B,CADJ,GAEIpB,QAAQ,CAACqB,qBAAT,CAA+BC,cAA/B,CAA8CR,OAA9C,CAFJ;AAGAP,MAAAA,aAAa,CAAC,gBAAD,EAAmBG,YAAnB,CAAb;AACC,KAXD,CAWE,OAAOa,GAAP,EAAY;AAAA;;AACZnB,MAAAA,KAAK,CAACgB,GAAN,CACE,IADF,EAEE,QAFF,EAGEG,GAAG,CAACC,OAAJ,KAAeD,GAAf,aAAeA,GAAf,wCAAeA,GAAG,CAAEE,QAApB,wEAAe,cAAeC,IAA9B,uDAAe,mBAAqBC,IAApC,KAA4C,sBAH9C;AAKD;AACF,GAnBD;;AAqBA,sBACE;AAAA,cACGrB,IADH,aACGA,IADH,uBACGA,IAAI,CAAEsB,GAAN,CAAU,CAACC,IAAD,EAAOhB,CAAP,kBACT;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA,8BACE;AAAM,QAAA,SAAS,EAAC,MAAhB;AAAA,wBAAyBgB,IAAI,CAACC,KAA9B;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAM,QAAA,IAAI,EAAC,MAAX;AAAkB,QAAA,SAAS,EAAC,QAA5B;AAAqC,QAAA,OAAO,EAAE,MAAMtB,YAAY,CAACK,CAAD,CAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA,OAA2CA,CAA3C;AAAA;AAAA;AAAA;AAAA,YADD;AADH,mBADF;AAYD,CApCD;;GAAMX,Q;UACUD,Q;;;KADVC,Q;AAsCN,eAAeA,QAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport services from \"services\";\nimport { useToast } from \"components/Toast\";\n\nconst FoodCats = props => {\n  const toast = useToast();\n  const { foodId, cats, setFieldValue } = props;\n  const handleDelete = index => {\n    try {\n      const splicedSteps = cats.filter((item, i) => i !== index);\n    let delFood = {\n      category: cats[index].id,\n      foods: [foodId],\n      action: \"remove\",\n    };\n    cats.length < 2\n      ? toast.add(\"tr\", \"danger\", \"Atleast One Category Is Required\")\n      : services.FoodCategoriesService.addRemoveFoods(delFood);\n    setFieldValue(\"foodCategories\", splicedSteps);\n    } catch (err) {\n      toast.add(\n        \"tr\",\n        \"danger\",\n        err.message || err?.response?.data?.code || \"Something went wrong\"\n      );\n    }\n  };\n\n  return (\n    <>\n      {cats?.map((step, i) => (\n        <div className=\"recipe-tag-item mt-2\" key={i}>\n          <span className=\"step\"> {step.title}</span>\n          <span type=\"span\" className=\"button\" onClick={() => handleDelete(i)}>\n            &times;\n          </span>\n        </div>\n      ))}\n    </>\n  );\n};\n\nexport default FoodCats;\n"]},"metadata":{},"sourceType":"module"}