{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/sadiqsoomro/Documents/ijaz/aimfit_frontend_upload/src/views/Care/createOrEdit.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Card, Row, Modal, Button } from \"react-bootstrap\";\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\nimport { useToast } from \"components/Toast\";\nimport services from \"services\";\nimport Loader from \"components/Loader\";\nimport moment from \"moment\";\nimport Dynamicform from \"./form\";\n\nconst AddOrEditCare = props => {\n  _s();\n\n  const toast = useToast();\n  const [roles, setRoles] = useState();\n  const [disable, setDisable] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [show, setShow] = useState(false);\n  const [yes, setYes] = useState(false);\n  const [username, setUserName] = useState(\"\");\n  const [isEditing, setIsEditing] = useState(null);\n  const [bookRoomData, setBookRoomData] = useState([{\n    practitioner: \"\",\n    practitionerRole: 0,\n    careTeamRole: 0,\n    qualification: \"\"\n  }]);\n  const [initialValues, setInitialValues] = useState({\n    name: \"\",\n    username: \"\",\n    password: \"\",\n    role: \"1\",\n    address: \"\",\n    phone: \"\",\n    cnic: \"\",\n    email: \"\",\n    disabled: 0\n  });\n\n  const getAllRoles = async () => {\n    try {\n      let data = await services.UsersService.getAllRoles();\n      let roles = data.response;\n      setRoles(roles);\n    } catch (err) {\n      var _err$response, _err$response$data;\n\n      console.log(\"err.response\", err.response);\n      toast.add(\"tr\", \"danger\", err.message || (err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.code) || \"Something went wrong\");\n    }\n\n    setIsLoading(false);\n  };\n\n  const handleValidations = values => {\n    const errors = {};\n\n    if (!values.deletedAt) {\n      if (!values.name) {\n        errors.name = \"* This field is required\";\n      }\n\n      if (!values.username) {\n        errors.description = \"* This field is required\";\n      }\n    }\n\n    return errors;\n  }; // const handleClose = () => {\n  //\n  //   setShow(false);\n  // };\n  // const handleYes = (setFieldValue) => {\n  //\n  //   console.log(show);\n  //   setFieldValue(\n  //     \"deletedAt\",\n  //     new Date(moment().format(\"YYYY-M-DD HH:mm:ss\"))\n  //   );\n  //   setShow(false);\n  // };\n\n\n  const handleSubmit = async (values, {\n    setSubmitting\n  }) => {\n    let obj = values;\n    !isEditing && delete obj.disabled;\n    isEditing && username == obj.username && delete obj.username;\n    isEditing ? obj[\"user\"] = values.id : null;\n    isEditing ? services.UsersService.updateUser(obj).then(response => {\n      if (values.deletedAt) {\n        toast.add(\"tr\", \"primary\", \"User Deleted\");\n      } else {\n        toast.add(\"tr\", \"primary\", \"User Updated\");\n      }\n\n      goBack();\n    }).catch(err => {\n      var _err$response2;\n\n      toast.add(\"tr\", \"danger\", (err === null || err === void 0 ? void 0 : (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.status) == 409 ? \"Add Unique User Name\" : \"Something went wrong\");\n    }) : services.UsersService.addUser(obj).then(response => {\n      toast.add(\"tr\", \"primary\", \"User Created\");\n      goBack();\n    }).catch(err => {\n      var _err$response3;\n\n      toast.add(\"tr\", \"danger\", (err === null || err === void 0 ? void 0 : (_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : _err$response3.status) == 409 ? \"Add Unique User Name\" : \"Something went wrong\");\n    });\n    setSubmitting(false);\n    setDisable(true);\n  };\n\n  const getData = async () => {\n    try {\n      var _props$match, _props$match$params;\n\n      let id = props === null || props === void 0 ? void 0 : (_props$match = props.match) === null || _props$match === void 0 ? void 0 : (_props$match$params = _props$match.params) === null || _props$match$params === void 0 ? void 0 : _props$match$params.id;\n\n      if (id) {\n        let data = await services.UsersService.getUserById(id);\n        data = data.response;\n        setUserName(data.username ? data.username : \"\");\n\n        if (!data) {\n          throw Error(\"User not Found\");\n        }\n\n        setInitialValues(data);\n      }\n\n      setIsEditing(id);\n    } catch (err) {\n      var _err$response4, _err$response4$data;\n\n      console.log(\"err.response\", err.response);\n      toast.add(\"tr\", \"danger\", err.message || (err === null || err === void 0 ? void 0 : (_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.code) || \"Something went wrong\");\n      goBack();\n    }\n  };\n\n  useEffect(() => {\n    getData();\n    getAllRoles();\n  }, []);\n\n  const handleAddFields = () => {\n    debugger;\n    const values = [...bookRoomData];\n    values.push({\n      practitioner: \"\",\n      practitionerRole: 0,\n      careTeamRole: 0,\n      qualification: \"\"\n    });\n    setBookRoomData(values);\n  };\n\n  const handleRemoveFields = () => {\n    const values = [...bookRoomData];\n    if (values.length > 1) values.pop();\n    setBookRoomData(values);\n  };\n\n  const goBack = () => props.history.push(\"/admin/care\");\n\n  return !isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Formik, {\n      enableReinitialize: true,\n      initialValues: initialValues,\n      validate: handleValidations,\n      onSubmit: handleSubmit,\n      children: ({\n        isSubmitting,\n        values,\n        setFieldValue\n      }) => /*#__PURE__*/_jsxDEV(Form, {\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-sm-4\",\n                children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                  children: [isEditing ? \"Edit\" : \"Create\", \" Care\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-auto\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-light mr-2  \",\n              type: \"button\",\n              onClick: () => goBack(),\n              children: \"Back\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 17\n            }, this), isEditing && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-secondary mr-2  btn-fill \",\n              type: \"submit\",\n              disabled: disable,\n              onClick: () => {\n                //\n                // setShow(true);\n                alert(\"Are You Sure to delete this ??\");\n                setFieldValue(\"deletedAt\", new Date(moment().format(\"YYYY-M-DD HH:mm:ss\")));\n              },\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-success mr-2  btn-fill\",\n              type: \"submit\",\n              disabled: disable // disabled={isSubmitting}\n              ,\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-sm-10 form-group\",\n                children: bookRoomData.map((data, i) => {\n                  return /*#__PURE__*/_jsxDEV(Row, {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-sm-3 form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"\",\n                        children: \"Practitioner\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 244,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Field, {\n                        name: \"type\",\n                        className: \"form-control\",\n                        as: \"select\",\n                        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                          children: \"Please Select type\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 250,\n                          columnNumber: 31\n                        }, this), roles === null || roles === void 0 ? void 0 : roles.map((role, key) => /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: role.id,\n                          children: role.name\n                        }, key, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 252,\n                          columnNumber: 33\n                        }, this))]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 245,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                        name: \"type\",\n                        component: \"small\",\n                        className: \"text-danger\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 257,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 243,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-sm-3 form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"\",\n                        children: \"Practitioner Role\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 264,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Field, {\n                        name: \"standaredCode\",\n                        className: \"form-control\",\n                        as: \"select\",\n                        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                          children: \"Please Select Description\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 270,\n                          columnNumber: 31\n                        }, this), roles === null || roles === void 0 ? void 0 : roles.map((role, key) => /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: role.id,\n                          children: role.name\n                        }, key, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 272,\n                          columnNumber: 33\n                        }, this))]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 265,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                        name: \"standaredCode\",\n                        component: \"small\",\n                        className: \"text-danger\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 277,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 263,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-sm-3 form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"\",\n                        children: \"Care Team Role\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 284,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Field, {\n                        name: \"nonStandaredCode\",\n                        className: \"form-control\",\n                        type: \"text\",\n                        placeholder: \"Enter Care Team Role\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 285,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                        name: \"nonStandaredCode\",\n                        component: \"small\",\n                        className: \"text-danger\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 291,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 283,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-sm-3 form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"\",\n                        children: \"Qualification\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 298,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Field, {\n                        name: \"nonStandaredCode\",\n                        className: \"form-control\",\n                        type: \"text\",\n                        placeholder: \"Enter None Standared Code\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 299,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                        name: \"nonStandaredCode\",\n                        component: \"small\",\n                        className: \"text-danger\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 305,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 297,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 242,\n                    columnNumber: 25\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-sm-2 form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"\",\n                  children: \"\\xA0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 317,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-danger mr-2  btn-fill\",\n                  type: \"submit\",\n                  disabled: disable,\n                  onClick: handleRemoveFields // disabled={isSubmitting}\n                  ,\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-success mr-2  btn-fill\",\n                  type: \"submit\",\n                  disabled: disable,\n                  onClick: handleAddFields // disabled={isSubmitting}\n                  ,\n                  children: \"Add\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 17\n            }, this), isEditing && /*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-sm-6 form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Active Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex align-items-center mt-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"pr-3\",\n                    children: \"Disable\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 343,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"custom-control custom-switch\",\n                    children: [/*#__PURE__*/_jsxDEV(Field, {\n                      name: \"disabled\",\n                      checked: values.disabled,\n                      type: \"checkbox\",\n                      className: \"custom-control-input\",\n                      id: \"customSwitch1\",\n                      onChange: event => {\n                        setInitialValues({ ...initialValues,\n                          [\"disabled\"]: !values.disabled\n                        });\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 345,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"custom-control-label\",\n                      htmlFor: \"customSwitch1\",\n                      children: \"Enable\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 358,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 344,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 181,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 392,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AddOrEditCare, \"GezbCDwgpV9SfJpqFrQXLmoxihU=\", false, function () {\n  return [useToast];\n});\n\n_c = AddOrEditCare;\nexport default AddOrEditCare;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddOrEditCare\");","map":{"version":3,"sources":["/Users/sadiqsoomro/Documents/ijaz/aimfit_frontend_upload/src/views/Care/createOrEdit.js"],"names":["React","useState","useEffect","Card","Row","Modal","Button","Formik","Form","Field","ErrorMessage","useToast","services","Loader","moment","Dynamicform","AddOrEditCare","props","toast","roles","setRoles","disable","setDisable","isLoading","setIsLoading","show","setShow","yes","setYes","username","setUserName","isEditing","setIsEditing","bookRoomData","setBookRoomData","practitioner","practitionerRole","careTeamRole","qualification","initialValues","setInitialValues","name","password","role","address","phone","cnic","email","disabled","getAllRoles","data","UsersService","response","err","console","log","add","message","code","handleValidations","values","errors","deletedAt","description","handleSubmit","setSubmitting","obj","id","updateUser","then","goBack","catch","status","addUser","getData","match","params","getUserById","Error","handleAddFields","push","handleRemoveFields","length","pop","history","isSubmitting","setFieldValue","alert","Date","format","map","i","key","event"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Card, Row, Modal, Button } from \"react-bootstrap\";\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\nimport { useToast } from \"components/Toast\";\nimport services from \"services\";\nimport Loader from \"components/Loader\";\nimport moment from \"moment\";\nimport Dynamicform from \"./form\";\n\nconst AddOrEditCare = (props) => {\n  const toast = useToast();\n  const [roles, setRoles] = useState();\n  const [disable, setDisable] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [show, setShow] = useState(false);\n  const [yes, setYes] = useState(false);\n  const [username, setUserName] = useState(\"\");\n  const [isEditing, setIsEditing] = useState(null);\n  const [bookRoomData, setBookRoomData] = useState([\n    {\n      practitioner: \"\",\n      practitionerRole: 0,\n      careTeamRole: 0,\n      qualification: \"\",\n    },\n  ]);\n  const [initialValues, setInitialValues] = useState({\n    name: \"\",\n    username: \"\",\n    password: \"\",\n    role: \"1\",\n    address: \"\",\n    phone: \"\",\n    cnic: \"\",\n    email: \"\",\n    disabled: 0,\n  });\n  const getAllRoles = async () => {\n    try {\n      let data = await services.UsersService.getAllRoles();\n      let roles = data.response;\n      setRoles(roles);\n    } catch (err) {\n      console.log(\"err.response\", err.response);\n\n      toast.add(\n        \"tr\",\n        \"danger\",\n        err.message || err?.response?.data?.code || \"Something went wrong\"\n      );\n    }\n\n    setIsLoading(false);\n  };\n\n  const handleValidations = (values) => {\n    const errors = {};\n    if (!values.deletedAt) {\n      if (!values.name) {\n        errors.name = \"* This field is required\";\n      }\n      if (!values.username) {\n        errors.description = \"* This field is required\";\n      }\n    }\n\n    return errors;\n  };\n\n  // const handleClose = () => {\n  //\n  //   setShow(false);\n  // };\n\n  // const handleYes = (setFieldValue) => {\n  //\n  //   console.log(show);\n  //   setFieldValue(\n  //     \"deletedAt\",\n  //     new Date(moment().format(\"YYYY-M-DD HH:mm:ss\"))\n  //   );\n  //   setShow(false);\n  // };\n\n  const handleSubmit = async (values, { setSubmitting }) => {\n    let obj = values;\n\n    !isEditing && delete obj.disabled;\n    isEditing && username == obj.username && delete obj.username;\n    isEditing ? (obj[\"user\"] = values.id) : null;\n    isEditing\n      ? services.UsersService.updateUser(obj)\n          .then((response) => {\n            if (values.deletedAt) {\n              toast.add(\"tr\", \"primary\", \"User Deleted\");\n            } else {\n              toast.add(\"tr\", \"primary\", \"User Updated\");\n            }\n            goBack();\n          })\n          .catch((err) => {\n            toast.add(\n              \"tr\",\n              \"danger\",\n              err?.response?.status == 409\n                ? \"Add Unique User Name\"\n                : \"Something went wrong\"\n            );\n          })\n      : services.UsersService.addUser(obj)\n          .then((response) => {\n            toast.add(\"tr\", \"primary\", \"User Created\");\n            goBack();\n          })\n          .catch((err) => {\n            toast.add(\n              \"tr\",\n              \"danger\",\n              err?.response?.status == 409\n                ? \"Add Unique User Name\"\n                : \"Something went wrong\"\n            );\n          });\n\n    setSubmitting(false);\n    setDisable(true);\n  };\n\n  const getData = async () => {\n    try {\n      let id = props?.match?.params?.id;\n      if (id) {\n        let data = await services.UsersService.getUserById(id);\n        data = data.response;\n        setUserName(data.username ? data.username : \"\");\n        if (!data) {\n          throw Error(\"User not Found\");\n        }\n\n        setInitialValues(data);\n      }\n      setIsEditing(id);\n    } catch (err) {\n      console.log(\"err.response\", err.response);\n\n      toast.add(\n        \"tr\",\n        \"danger\",\n        err.message || err?.response?.data?.code || \"Something went wrong\"\n      );\n\n      goBack();\n    }\n  };\n\n  useEffect(() => {\n    getData();\n    getAllRoles();\n  }, []);\n\n  const handleAddFields = () => {\n    debugger;\n    const values = [...bookRoomData];\n    values.push({\n      practitioner: \"\",\n      practitionerRole: 0,\n      careTeamRole: 0,\n      qualification: \"\",\n    });\n    setBookRoomData(values);\n  };\n\n  const handleRemoveFields = () => {\n    const values = [...bookRoomData];\n    if (values.length > 1) values.pop();\n    setBookRoomData(values);\n  };\n\n  const goBack = () => props.history.push(\"/admin/care\");\n  return !isLoading ? (\n    <div>\n      <Formik\n        enableReinitialize\n        initialValues={initialValues}\n        validate={handleValidations}\n        onSubmit={handleSubmit}\n      >\n        {({ isSubmitting, values, setFieldValue }) => (\n          <Form>\n            <Row>\n              <div className=\"col\">\n                <div className=\"row\">\n                  <div className=\"col-sm-4\">\n                    <h2>{isEditing ? \"Edit\" : \"Create\"} Care</h2>\n                  </div>\n                </div>\n              </div>\n              <div className=\"col-auto\">\n                <button\n                  className=\"btn btn-light mr-2  \"\n                  type=\"button\"\n                  onClick={() => goBack()}\n                >\n                  Back\n                </button>\n                {isEditing && (\n                  <button\n                    className=\"btn btn-secondary mr-2  btn-fill \"\n                    type=\"submit\"\n                    disabled={disable}\n                    onClick={() => {\n                      //\n                      // setShow(true);\n                      alert(\"Are You Sure to delete this ??\");\n                      setFieldValue(\n                        \"deletedAt\",\n                        new Date(moment().format(\"YYYY-M-DD HH:mm:ss\"))\n                      );\n                    }}\n                  >\n                    Delete\n                  </button>\n                )}\n                <button\n                  className=\"btn btn-success mr-2  btn-fill\"\n                  type=\"submit\"\n                  disabled={disable}\n                  // disabled={isSubmitting}\n                >\n                  Save\n                </button>\n              </div>\n            </Row>\n\n            <Card>\n              <Card.Body>\n                {/* <Dynamicform /> */}\n                <Row>\n                  <div className=\"col-sm-10 form-group\">\n                    {bookRoomData.map((data, i) => {\n                      return (\n                        <Row>\n                          <div className=\"col-sm-3 form-group\">\n                            <label htmlFor=\"\">Practitioner</label>\n                            <Field\n                              name=\"type\"\n                              className=\"form-control\"\n                              as=\"select\"\n                            >\n                              <option>Please Select type</option>\n                              {roles?.map((role, key) => (\n                                <option key={key} value={role.id}>\n                                  {role.name}\n                                </option>\n                              ))}\n                            </Field>\n                            <ErrorMessage\n                              name=\"type\"\n                              component=\"small\"\n                              className=\"text-danger\"\n                            />\n                          </div>\n                          <div className=\"col-sm-3 form-group\">\n                            <label htmlFor=\"\">Practitioner Role</label>\n                            <Field\n                              name=\"standaredCode\"\n                              className=\"form-control\"\n                              as=\"select\"\n                            >\n                              <option>Please Select Description</option>\n                              {roles?.map((role, key) => (\n                                <option key={key} value={role.id}>\n                                  {role.name}\n                                </option>\n                              ))}\n                            </Field>\n                            <ErrorMessage\n                              name=\"standaredCode\"\n                              component=\"small\"\n                              className=\"text-danger\"\n                            />\n                          </div>\n                          <div className=\"col-sm-3 form-group\">\n                            <label htmlFor=\"\">Care Team Role</label>\n                            <Field\n                              name=\"nonStandaredCode\"\n                              className=\"form-control\"\n                              type=\"text\"\n                              placeholder=\"Enter Care Team Role\"\n                            />\n                            <ErrorMessage\n                              name=\"nonStandaredCode\"\n                              component=\"small\"\n                              className=\"text-danger\"\n                            />\n                          </div>\n                          <div className=\"col-sm-3 form-group\">\n                            <label htmlFor=\"\">Qualification</label>\n                            <Field\n                              name=\"nonStandaredCode\"\n                              className=\"form-control\"\n                              type=\"text\"\n                              placeholder=\"Enter None Standared Code\"\n                            />\n                            <ErrorMessage\n                              name=\"nonStandaredCode\"\n                              component=\"small\"\n                              className=\"text-danger\"\n                            />\n                          </div>\n                        </Row>\n                      );\n                    })}\n                  </div>\n\n                  <div className=\"col-sm-2 form-group\">\n                    <label htmlFor=\"\">&nbsp;</label>\n                    <button\n                      className=\"btn btn-danger mr-2  btn-fill\"\n                      type=\"submit\"\n                      disabled={disable}\n                      onClick={handleRemoveFields}\n                      // disabled={isSubmitting}\n                    >\n                      Delete\n                    </button>\n                    <button\n                      className=\"btn btn-success mr-2  btn-fill\"\n                      type=\"submit\"\n                      disabled={disable}\n                      onClick={handleAddFields}\n                      // disabled={isSubmitting}\n                    >\n                      Add\n                    </button>\n                  </div>\n                </Row>\n                {isEditing && (\n                  <Row>\n                    <div className=\"col-sm-6 form-group\">\n                      <label>Active Status</label>\n                      <div className=\"d-flex align-items-center mt-3\">\n                        <label className=\"pr-3\">Disable</label>\n                        <div className=\"custom-control custom-switch\">\n                          <Field\n                            name=\"disabled\"\n                            checked={values.disabled}\n                            type=\"checkbox\"\n                            className=\"custom-control-input\"\n                            id=\"customSwitch1\"\n                            onChange={(event) => {\n                              setInitialValues({\n                                ...initialValues,\n                                [\"disabled\"]: !values.disabled,\n                              });\n                            }}\n                          />\n                          <label\n                            className=\"custom-control-label\"\n                            htmlFor=\"customSwitch1\"\n                          >\n                            Enable\n                          </label>\n                        </div>\n                      </div>\n                    </div>\n                  </Row>\n                )}\n              </Card.Body>\n            </Card>\n          </Form>\n        )}\n      </Formik>\n      {/* <Modal show = {show}>\n        <Modal.Header className=\"border-0\">\n          <Modal.Title className=\"text-primary\">Alert</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n        Are You Sure to delete this ??\n        </Modal.Body>\n        <Modal.Footer className=\"border-0\">\n          <Button variant=\"primary\" onClick= {handleClose}>\n            No\n          </Button>\n          <Button variant=\"primary\" onClick={handleYes}>\n            Yes\n          </Button>\n        </Modal.Footer>\n      </Modal>  */}\n    </div>\n  ) : (\n    <Loader />\n  );\n};\n\nexport default AddOrEditCare;\n"]},"metadata":{},"sourceType":"module"}