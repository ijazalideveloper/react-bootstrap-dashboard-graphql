{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/sadiqsoomro/Documents/ijaz/aimfit_frontend_upload/src/components/FileUpload/UploadFileMux.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport services from \"services\";\nimport { useToast } from \"components/Toast\";\nimport * as UpChunk from '@mux/upchunk';\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\nexport default function FileUpload(props) {\n  _s();\n\n  const toast = useToast();\n  const {\n    error,\n    setFieldValue,\n    type,\n    name\n  } = props;\n  const [selectedFile, setSelectedFile] = useState();\n  const [isSelected, setIsSelected] = useState(props.muxAssetId && props.muxUploadId ? true : false);\n  const [isFileLoading, setFileLoading] = useState(false);\n  const [uploadId, setUploadId] = useState();\n  const [assetId, setAssetId] = useState();\n  const videoUpload = useRef();\n  const [successUpload, setSuccessUpload] = useState();\n  let [title, setTille] = useState(props.videoName);\n\n  const changeHandler = event => {\n    console.log('videoname inside mux uploadng component', title);\n    setFileLoading(true);\n    let file = event.target.files[0];\n    setSelectedFile(file.name);\n    setIsSelected(true);\n    services.ClassService.addClassVideoMux({\n      title: title\n    }).then(data => {\n      console.log(data);\n      setUploadId(data.response.id);\n      console.log(uploadId);\n      videoUpload.current = UpChunk.createUpload({\n        endpoint: data.response.url,\n        file: file,\n        chunkSize: 5120 // Uploads the file in ~5mb chunks\n\n      });\n      videoUpload.current.on('success', res => {\n        setSuccessUpload(true);\n        console.log(data.response.id);\n        console.log(res);\n        services.ClassService.getMuxAssetFromId(data.response.id).then(info => {\n          console.log(\"video info\", info);\n          info.response.asset_id ? props.assetIdSetter(info.response.asset_id) : null.b;\n          setAssetId(info.response.asset_id);\n          info.response.id ? props.uploadIdSetter(info.response.id) : null.b;\n          setFileLoading(false);\n          toast.add(\"tr\", \"primary\", type + \" uploaded Successfully\");\n          console.log(\"assetId\", assetId);\n          services.ClassService.getPlaybackIDLink(data.response.id).then(() => {}).catch(() => {});\n        }).catch(err => {\n          console.log(\"video info error\", error);\n        });\n      });\n      videoUpload.current.on('error', error => {\n        console.log(\"video error\", error);\n      });\n    }).catch(() => {\n      console.log(\"error in upchunk\");\n    });\n    console.log(file);\n  };\n\n  const removeFile = () => {\n    setFileLoading(true);\n    console.log(assetId);\n\n    if (isSelected) {\n      services.ClassService.removeClassVideoMux(assetId || props.muxAssetId).then(res => {\n        setFieldValue(name, \"\");\n        setIsSelected(false);\n        setFileLoading(false);\n        toast.add(\"tr\", \"primary\", type + \" Removed Successfully\");\n      }).catch(err => {\n        var _err$response, _err$response$data, _err$response$data$co;\n\n        setFileLoading(false);\n        toast.add(\"tr\", \"danger\", (err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : (_err$response$data$co = _err$response$data.code) === null || _err$response$data$co === void 0 ? void 0 : _err$response$data$co.code) ? err.response.data.message.code : \"Something went wrong\");\n      });\n    }\n  };\n\n  useEffect(() => {}, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"col-sm-6 form-group\",\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"Upload to MUX \", type]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"file-upload-wrapper \",\n      children: [!isSelected ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"upload\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Drag \", type, \" here or \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"upload__button\",\n            children: \"Browse\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 35\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: name,\n          onChange: changeHandler,\n          type: \"file\",\n          id: \"file\",\n          accept: type + \"/*\",\n          \"aria-label\": \"File browser example\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"uploaded uploaded--one\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"file\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: `far fa-file-${type}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ml-3 file-name\",\n              children: selectedFile\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 15\n          }, this), !isFileLoading && /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-times\",\n            onClick: removeFile\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 17\n          }, this), isFileLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"progress-bar bg-success progress-bar-striped progress-bar-animated\",\n              style: {\n                width: \"100%\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this), props.error && !link && !isFileLoading ? /*#__PURE__*/_jsxDEV(\"small\", {\n        className: \"text-small text-danger\",\n        children: props.error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }, this) : \"\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), successUpload ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-auto\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 7\n      }, this)\n    }, void 0, false) : undefined]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n}\n\n_s(FileUpload, \"4UZ9y0Targ+3L2qbHAfqtQnvnJA=\", false, function () {\n  return [useToast];\n});\n\n_c = FileUpload;\n\nvar _c;\n\n$RefreshReg$(_c, \"FileUpload\");","map":{"version":3,"sources":["/Users/sadiqsoomro/Documents/ijaz/aimfit_frontend_upload/src/components/FileUpload/UploadFileMux.js"],"names":["React","useState","useEffect","useRef","services","useToast","UpChunk","Formik","Form","Field","ErrorMessage","FileUpload","props","toast","error","setFieldValue","type","name","selectedFile","setSelectedFile","isSelected","setIsSelected","muxAssetId","muxUploadId","isFileLoading","setFileLoading","uploadId","setUploadId","assetId","setAssetId","videoUpload","successUpload","setSuccessUpload","title","setTille","videoName","changeHandler","event","console","log","file","target","files","ClassService","addClassVideoMux","then","data","response","id","current","createUpload","endpoint","url","chunkSize","on","res","getMuxAssetFromId","info","asset_id","assetIdSetter","b","uploadIdSetter","add","getPlaybackIDLink","catch","err","removeFile","removeClassVideoMux","code","message","width","link","undefined"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport services from \"services\";\nimport { useToast } from \"components/Toast\";\nimport * as UpChunk from '@mux/upchunk'\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\n\nexport default function FileUpload(props) {\n  const toast = useToast();\n  const { error,setFieldValue, type, name } = props;\n \n  const [selectedFile, setSelectedFile] = useState();\n  const [isSelected, setIsSelected] = useState(props.muxAssetId && props.muxUploadId ? true : false);\n  const [isFileLoading, setFileLoading] = useState(false);\n  const [uploadId,setUploadId] = useState();\n  const [assetId,setAssetId] = useState();\n  const videoUpload = useRef();\n  const [successUpload, setSuccessUpload] = useState()\n  let [title, setTille] = useState(props.videoName)\n\n  const changeHandler = (event) => {\n    console.log('videoname inside mux uploadng component',title)\n    setFileLoading(true);\n    let file = event.target.files[0];\n    setSelectedFile(file.name);\n    setIsSelected(true);\n    services.ClassService.addClassVideoMux({title: title})\n    .then((data)=>{\n        console.log(data);\n        setUploadId(data.response.id);\n        console.log(uploadId)\n        videoUpload.current = UpChunk.createUpload({\n            endpoint: data.response.url,\n            file: file,\n            chunkSize: 5120, // Uploads the file in ~5mb chunks\n        });\n        videoUpload.current.on('success', res=>{\n            setSuccessUpload(true)\n            console.log(data.response.id)\n            console.log(res)\n            services.ClassService.getMuxAssetFromId(data.response.id)\n            .then((info)=>{\n                console.log(\"video info\", info)\n                info.response.asset_id ? props.assetIdSetter(info.response.asset_id) : null.b;\n                setAssetId(info.response.asset_id)\n                info.response.id ? props.uploadIdSetter(info.response.id) : null.b;\n                setFileLoading(false);\n                toast.add(\"tr\", \"primary\", type + \" uploaded Successfully\");\n                console.log(\"assetId\",assetId)\n                services.ClassService.getPlaybackIDLink(data.response.id)\n                .then(()=>{})\n                .catch(()=>{})\n            })\n            .catch((err)=>{\n                console.log(\"video info error\", error)\n            })\n        })\n        videoUpload.current.on('error', error =>{\n            console.log(\"video error\", error)\n        })\n        \n    }).catch(()=>{\n        console.log(\"error in upchunk\");\n    })\n    console.log(file);\n}\n\nconst removeFile = ()=>{\n  setFileLoading(true);\n  console.log(assetId)\n  if(isSelected){\n    services.ClassService.removeClassVideoMux(assetId || props.muxAssetId)\n    .then((res)=>{\n      setFieldValue(name, \"\");\n      setIsSelected(false);\n      setFileLoading(false);\n      toast.add(\"tr\", \"primary\", type + \" Removed Successfully\");\n    })\n    .catch((err)=>{\n      setFileLoading(false);\n        toast.add(\n          \"tr\",\n          \"danger\",\n\n          err?.response?.data?.code?.code\n            ? err.response.data.message.code\n            : \"Something went wrong\"\n        );\n    });\n  }\n}\n\nuseEffect(()=>{},[])\n\n  return (\n    <div className=\"col-sm-6 form-group\">\n      <label>Upload to MUX {type}</label>\n      <div className=\"file-upload-wrapper \">\n        {!isSelected ? (\n          <div className=\"upload\">\n            <p>\n              Drag {type} here or <span className=\"upload__button\">Browse</span>\n            </p>\n\n            <input\n              name={name}\n              onChange={changeHandler}\n              type=\"file\"\n              id=\"file\"\n              accept={type + \"/*\"}\n              aria-label=\"File browser example\"\n            />\n          </div>\n        ) : (\n          <div className=\"uploaded uploaded--one\">\n            <div className=\"file\">\n              <div className=\"d-flex align-items-center\">\n                <i className={`far fa-file-${type}`}></i>\n                <span className=\"ml-3 file-name\">{selectedFile}</span>\n              </div>\n              {!isFileLoading && (\n                <i className=\"fas fa-times\" onClick={removeFile}></i>\n              )}\n              {isFileLoading && (\n                <div className=\"progress\">\n                  <div\n                    className=\"progress-bar bg-success progress-bar-striped progress-bar-animated\"\n                    style={{ width: \"100%\" }}\n                  ></div>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n        {props.error && !link && !isFileLoading ? (\n          <small className=\"text-small text-danger\">{props.error}</small>\n        ) : (\n          \"\"\n        )}\n      </div>\n      {successUpload ? \n      <>\n      <div className=\"col-auto\">\n          {/* <div className=\"col-sm-6 form-group\">\n                    <label htmlFor=\"\">Name</label>\n                    <Field name=\"name\" className=\"form-control\" type=\"text\" />\n                    <ErrorMessage\n                      name=\"name\"\n                      component=\"small\"\n                      className=\"text-danger\"\n                    />\n          </div>\n          <button\n            className=\"btn btn-success mr-2  btn-fill\"\n            type=\"submit\"\n            disabled={successUpload !== true}\n          >\n            Save\n          </button> */}\n        </div>\n\n      </> : undefined\n      }\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}